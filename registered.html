<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>桐庐杭燃</title>
		<link type="text/css" rel="stylesheet" href="css/reset.css" />
		<link type="text/css" rel="stylesheet" href="css/login.css" />
		<link type="text/css" rel="stylesheet" href="iconfont/iconfont.css" />
	</head>
	<body>
		<div class="login_page">
			<div class="pass_head">
				<a class="icon_youjiantou" href="javascript:void(0);">
					<i class="iconfont icon-zuojiantou-01"></i>
				</a>
				<h3 class="head_title">注册</h3>
			</div>
			<div class="login_content mt20">
				<ul class="pass_main password_page">
					<li>
						<span class="pass_title">手机号</span>
						<input type="text" class="login_inpt phone_1"/>
					</li>
					<li class="pass_main">
						<span class="pass_title">验证码</span>
						<input type="password" class="login_inpt"/>
						<span class="code" onclick="getCode(this)">获取验证码</span>
                    	<span id="J_resetCode" style="display:none;"><em id="J_second">60秒后重发</em></span>
					</li>
					<li class="pass_main">
						<span class="pass_title">密码</span>
						<input type="password" class="login_inpt"/>
					</li>
				</ul>
				<label for="regis" class="agree">
					<i class="iconfont icon-radio02"></i>
					<input type="radio" id="regis">已阅读并接受<em>《注册协议》</em>
				</label>
				<a href="javascript:void(0)" class="pass_btn confirm01">确认</a>
			</div>
		</div>
		<div class="cont"></div>
		<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="js/public.js"></script>
		<script type="text/javascript" src="js/login.js"></script>
		<script>
			var isPhone = 1;
	        function getCode(e){
	            checkPhone(); //验证手机号码
	            if(isPhone){
	                resetCode(); //倒计时
	            }else{
	                $('#phone').focus();
	            }
	            
	        }
	        //验证手机号码
	        function checkPhone(){
	            var phone = $('.phone_1').val();
	            var pattern = /^1[0-9]{10}$/;
	            isPhone = 1;
	            if(phone == '') {
	                var html = '<div class="mask">请输入手机号</div>';
	                $(".cont").empty().html(html);
	                setTimeout(function(){
	                	$(".cont").hide();
	                },2000);
	                isPhone = 0;
	                return;
	            }
	            if(!pattern.test(phone)){
	                var html = '<div class="mask">请输入正确的手机号码</div>';
	                $(".cont").empty().html(html);
	                setTimeout(function(){
	                	$(".cont").hide();
	                },2000);
	                isPhone = 0;
	                return;
	            }
	        }
	        //倒计时
	        function resetCode(){
	            $('.code').hide();
	            $('#J_second').html('60秒后重发');
	            $('#J_resetCode').show();
	            var second = 60;
	            var timer = null;
	            timer = setInterval(function(){
	                second -= 1;
	                if(second >0 ){
	                    $('#J_second').html(second + '秒后重发');
	                }else{
	                    clearInterval(timer);
	                    $('.code').show();
	                    $('#J_resetCode').hide();
	                }
	            },1000);
	        }
		</script>
	</body>
</html>